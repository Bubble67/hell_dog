:root {
    --bg-color: #0f0f1a; --card-color: #1a1a2e; 
    --accent-color: #e94560; --text-color: #e0e0e0; 
    --highlight-color: #ffd700; --secondary-color: #533483;
}

body { 
    font-family: sans-serif; background: var(--bg-color); 
    background-image: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #0f0f1a 100%);
    color: var(--text-color); padding: 20px; line-height: 1.6; margin: 0; min-height: 100vh;
}

.container { max-width: 700px; margin: 0 auto; }
.nav-header { margin-bottom: 20px; }
.home-link { color: var(--accent-color); text-decoration: none; font-weight: bold; }

.log-container { position: relative; }
.log-display { 
    background: #000; border: 1px solid #333; padding: 25px; border-radius: 20px; 
    min-height: 400px; margin-bottom: 30px; box-shadow: inset 0 0 30px #000;
    display: flex; flex-direction: column; gap: 20px; overflow-y: auto; max-height: 60vh;
}

.chat-top-btn {
    position: absolute; bottom: 45px; right: 20px;
    background: rgba(233, 69, 96, 0.4); color: white; border: 1px solid var(--accent-color);
    padding: 4px 8px; border-radius: 6px; font-size: 0.7em; cursor: pointer; z-index: 5;
}

.speech-brick {
    border: 2px solid #333; padding: 15px; border-radius: 12px;
    position: relative; animation: slideUp 0.3s ease-out;
    background: rgba(255, 255, 255, 0.02); margin-top: 10px;
}
.speech-brick.is-me { border-color: var(--accent-color); background: rgba(233, 69, 96, 0.05); }

.author-tag {
    position: absolute; top: -12px; left: 15px; background: var(--bg-color); 
    padding: 0 8px; color: var(--highlight-color); font-size: 0.8em; font-weight: bold;
    border: 1px solid #333; border-radius: 4px;
}
.is-me .author-tag { border-color: var(--accent-color); color: var(--accent-color); }

.brick-text { white-space: pre-wrap; word-break: break-all; margin-top: 5px; }
.brick-signal { text-align: center; color: var(--accent-color); font-style: italic; font-size: 0.9em; margin: 10px 0; }

.input-area.is-locked {
    pointer-events: none;
}

.input-area.is-locked .tool-bar {
    pointer-events: auto;
    opacity: 1;
    filter: none;
}

/*舞台關閉期間讓輸入框呈現灰色*/
.input-area.is-locked textarea,
.input-area.is-locked .main-send-btn {
    opacity: 0.4;
    filter: grayscale(1);
    cursor: not-allowed;
}

.input-area.is-locked .pack-btn.ready {
    pointer-events: auto;
    opacity: 1;
    color: var(--highlight-color);
}

.change-name-btn { background: rgba(233, 69, 96, 0.1); border: 1px solid var(--accent-color); color: var(--accent-color); padding: 4px 10px; border-radius: 6px; cursor: pointer; font-size: 0.75em; }
.tool-bar { display: flex; gap: 8px; margin-bottom: 10px; }
.tool-btn { background: #111; border: 1px solid #444; color: #888; padding: 5px 12px; border-radius: 6px; font-size: 0.75em; cursor: pointer; }

textarea { width: 100%; height: 80px; background: #000; border: 1px solid #555; color: white; padding: 15px; border-radius: 10px; resize: none; box-sizing: border-box; outline: none; }

.send-row { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }
.main-send-btn { background: var(--accent-color); color: white; border: none; padding: 8px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; }
.main-send-btn:disabled { background: #333; color: #666; cursor: not-allowed; }

.pack-btn { background: none; border: none; color: #666; cursor: pointer; font-size: 0.7em; text-decoration: underline; margin-right: 10px; }
.pack-btn.ready { color: var(--highlight-color); font-weight: bold; }

@keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } } 